<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Pizzaria Computacional ‚Äî Vers√£o Final</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ======================= MENU INICIAL ======================= -->
<div id="menu-inicial">
    <div class="menu-card">
        <h1>üçï Pizzaria Computacional</h1>

        <button onclick="iniciarNivel(1)" class="primary">N√≠vel 1 ‚Äî Criar Pizza</button>
        <br><br>

        <button onclick="abrirSelecaoDificuldade()">N√≠vel 2 ‚Äî Aut√≥mato Aleat√≥rio</button>
        <br><br>

        <button class="danger" onclick="sair()">Sair</button>
    </div>
</div>

<!-- ======================= MODAL DIFICULDADE ======================= -->
<div id="modal-dificuldade" class="modal hidden">
    <div class="modal-content">
        <h2>Dificuldade do Aut√≥mato</h2>
        <button onclick="escolherDificuldade('facil')">F√°cil</button>
        <button onclick="escolherDificuldade('medio')">M√©dio</button>
        <button onclick="escolherDificuldade('dificil')">Dif√≠cil</button>

        <br><br>
        <button class="danger" onclick="voltarAoMenu()">Cancelar</button>
    </div>
</div>

<!-- ======================= APLICA√á√ÉO PRINCIPAL ======================= -->
<div id="app" class="hidden">

    <div class="center-buttons">
        <button onclick="trocarNivel()">Trocar N√≠vel</button>
        <button onclick="trocarDificuldade()">Trocar Dificuldade</button>
        <button onclick="reiniciar()" class="danger">Reiniciar</button>
        <button onclick="sair()">Sair</button>
    </div>

    <h1 id="titulo-nivel"></h1>

    <!-- =============================================================
         N√çVEL 1 ‚Äî CRIA√á√ÉO DE PIZZA (massa obrigat√≥ria + distratores)
    =============================================================== -->
    <div id="nivel1" class="hidden">

        <div class="box">
            <h2>Ingredientes</h2>
            <div id="ingredientes-n1" class="ingredientes-grid"></div>
        </div>

        <div class="box">
            <h2>Montagem</h2>
            <div id="dropzone-n1" class="dropzone">
                <svg width="380" height="380">
                    <circle cx="190" cy="190" r="160" fill="#e8c190"></circle>
                    <g id="toppings-n1"></g>
                </svg>
            </div>
        </div>

        <div class="box">
            <h2>Progresso</h2>
            <ul class="progresso-lista">
                <li id="p1">Come√ßar pela massa</li>
                <li id="p2">Adicionar molho / queijo</li>
                <li id="p3">Adicionar toppings</li>
                <li id="p4">Preparar pagamento</li>
                <li id="p5">Pagamento</li>
                <li id="p6">Pizza completa</li>
            </ul>
        </div>

        <div class="box">
            <h2>Valida√ß√£o</h2>
            <ul id="log-n1" class="log"></ul>
        </div>

        <div class="center-buttons">
            <button onclick="efetuarPagamentoN1()" class="primary">Pagar</button>
            <button onclick="finalizarPizzaN1()">Finalizar Pizza</button>
        </div>

    </div>

    <!-- =============================================================
         N√çVEL 2 ‚Äî AUT√ìMATO ALEAT√ìRIO (circular 750x750)
    =============================================================== -->
    <div id="nivel2" class="hidden">

        <div class="box">
            <h2>Aut√≥mato Gerado</h2>

            <!-- SVG 750x750 -->
            <svg id="fsm-svg" width="750" height="750">
                <g id="fsm-trans"></g>
                <g id="fsm-states"></g>
            </svg>
        </div>

        <div class="box">
            <h2>Ingredientes</h2>
            <div id="ingredientes-n2" class="ingredientes-grid"></div>
        </div>

        <div class="box">
            <h2>Pizza Constru√≠da</h2>
            <div id="dropzone-n2" class="dropzone">
                <svg width="380" height="380">
                    <circle cx="190" cy="190" r="160" fill="#e8c190"></circle>
                    <g id="toppings-n2"></g>
                </svg>
            </div>
        </div>

        <div class="box">
            <h2>Registo do Processo</h2>
            <ul id="log-n2" class="log"></ul>
        </div>

        <!-- Formaliza√ß√£o do aut√≥mato -->
        <div id="formal-area" class="box">
            <h2>Formaliza√ß√£o</h2>
            <pre id="formal-text" class="formal-box"></pre>

            <h2>Tabela Œ¥</h2>
            <table id="tabela-delta" class="delta-table"></table>
        </div>

    </div>
</div>

<script src="script.js"></script>
</body>
</html>
